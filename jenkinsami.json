{
  "variables": {
    "vpc_id": "",
    "subnet_id": "",
    "aws_access_key": "",
    "aws_secret_key": ""
  },
  "builders": [{
    "type": "amazon-ebs",
    "access_key": "{{user `aws_access_key`}}",
    "secret_key": "{{user `aws_secret_key`}}",
    "region": "ap-southeast-2",
    "source_ami": "ami-fd9cecc7",
    "instance_type": "t2.micro",
    "ssh_username": "ec2-user",
    "ami_name": "packer-example {{timestamp}}",
		"vpc_id": "{{user `vpc_id`}}",
		"associate_public_ip_address": "true",
		"subnet_id": "{{user `subnet_id`}}"
  }],
	"provisioners": [{
		"type": "shell",
		"inline": [
			"sleep 30",
		"sudo yum install -y docker",
		"sudo useradd -G docker ec2-user",
		"sudo service docker restart",
		"sudo docker pull base2jenkins/web-builder-docker",
		"sudo docker pull base2jenkins/frostbite",
		"sudo docker pull base2jenkins/php-ssmtp",
		"sudo docker pull base2jenkins/icinga2"
			]
	}]

}
